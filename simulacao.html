<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simula√ß√£o ‚Äî IAConfi√°vel</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1 class="logo">IAConfi√°vel - Simula√ß√£o</h1>
      <nav>
        <a href="index.html">Home</a>
        <a href="about.html">Sobre N√≥s</a>
        <a href="simulacao.html">Simula√ß√£o</a>
        <a href="contact.html">Contato</a>
       
    </div>
  </header> 
  <main class="container" style="padding-top:1rem">
    <section class="card">
      <h2>Simula√ß√£o</h2>
      <p>Digite sua pergunta e (opcional) forne√ßa contexto para simular como a IA responderia com fontes.</p>

      <label>Digite aqui
        <textarea id="simInput" rows="5" placeholder="Ex.: Explique o mecanismo X em termos simples..."></textarea>
      </label>

      <label>Contexto (URL)
        <input type="url" id="simUrl" placeholder="https://exemplo.org/paper" />
      </label>

      <label>Ou arquivo (simulado)
        <input type="file" id="simFile" accept="application/pdf" />
      </label>

      <div style="display:flex;gap:.5rem;margin-top:.75rem">
        <button id="genBtn" class="btn primary">Gerar Resposta</button>
        <button id="clearBtn" class="btn">Limpar</button>
      </div>

      <div id="simResult" class="sim-result card" style="margin-top:1rem;display:none">
        <h3 class="sim-title">Resposta simulada</h3>
        <div id="simAnswer" class="sim-answer"></div>

        <h4 class="sim-fontes">Fontes confi√°veis</h4>
        <ul id="simSources" class="sim-sources"></ul>

        <div class="sim-feedback">
          <span class="sim-feedback-label">A resposta foi √∫til?</span>
          <button id="thumbsUp" class="btn">üëç</button>
          <button id="thumbsDown" class="btn">üëé</button>
          <span id="fbMsg" class="sim-feedback-msg"></span>
        </div>
      </div>

      <p class="note" style="margin-top:1rem">Observa√ß√£o: esta p√°gina √© um prot√≥tipo front-end. Em produ√ß√£o, o bot√£o "Gerar Resposta" chamaria um servi√ßo que combina modelos com um √≠ndice de papers e retornaria a resposta com cita√ß√µes reais (DOI, autores, ano).</p>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <small>¬© 2025 IAConfi√°vel ‚Äî Prot√≥tipo de simula√ß√£o.</small>
    </div>
  </footer>

  <script>
    (function(){
      const genBtn = document.getElementById('genBtn');
      const clearBtn = document.getElementById('clearBtn');
      const simResult = document.getElementById('simResult');
      const simAnswer = document.getElementById('simAnswer');
      const simSources = document.getElementById('simSources');
      const thumbsUp = document.getElementById('thumbsUp');
      const thumbsDown = document.getElementById('thumbsDown');
      const fbMsg = document.getElementById('fbMsg');

      const trusted = [
        {name:'Nature', url:'https://www.nature.com'},
        {name:'IEEE', url:'https://ieeexplore.ieee.org'},
        {name:'PubMed', url:'https://pubmed.ncbi.nlm.nih.gov'}
      ];

      genBtn && genBtn.addEventListener('click', async function(){
        const q = document.getElementById('simInput').value.trim();
        const url = document.getElementById('simUrl').value.trim();
        const file = document.getElementById('simFile').files[0];
        if(!q){ alert('Escreva uma pergunta antes de gerar a resposta.'); return; }

        simAnswer.innerHTML = '<div class="sim-block"><em>Aguarde, consultando IA...</em></div>';
        simSources.innerHTML = '';
        simResult.style.display = 'block';
        fbMsg.textContent = '';
        thumbsUp.disabled = true; thumbsDown.disabled = true;

        // Respostas prontas (mock) variadas
        const respostasProntas = [
          {
            resposta: 'O mecanismo X √© amplamente estudado e sua efic√°cia foi comprovada em diversos artigos revisados por pares. Recomenda-se consultar Nature e IEEE para detalhes t√©cnicos.',
            fontes: [
              { nome: 'Nature', url: 'https://www.nature.com' },
              { nome: 'IEEE', url: 'https://ieeexplore.ieee.org' }
            ],
            topicos: ['Efic√°cia do mecanismo X', 'Estudos revisados por pares', 'Fontes t√©cnicas'],
            contexto: url || (file ? `Arquivo: ${file.name}` : '')
          },
          {
            resposta: 'Segundo pesquisas recentes, o mecanismo X apresenta limita√ß√µes importantes que devem ser consideradas. PubMed traz revis√µes sistem√°ticas sobre o tema.',
            fontes: [
              { nome: 'PubMed', url: 'https://pubmed.ncbi.nlm.nih.gov' },
              { nome: 'Nature', url: 'https://www.nature.com' }
            ],
            topicos: ['Limita√ß√µes do mecanismo X', 'Revis√µes sistem√°ticas', 'Cuidados na aplica√ß√£o'],
            contexto: url || (file ? `Arquivo: ${file.name}` : '')
          },
          {
            resposta: 'A aplica√ß√£o do mecanismo X em ambientes cl√≠nicos requer valida√ß√£o rigorosa. Estudos da IEEE e PubMed destacam recomenda√ß√µes para uso respons√°vel.',
            fontes: [
              { nome: 'IEEE', url: 'https://ieeexplore.ieee.org' },
              { nome: 'PubMed', url: 'https://pubmed.ncbi.nlm.nih.gov' }
            ],
            topicos: ['Valida√ß√£o cl√≠nica', 'Recomenda√ß√µes de uso', 'Responsabilidade cient√≠fica'],
            contexto: url || (file ? `Arquivo: ${file.name}` : '')
          },
          {
            resposta: 'Diversos autores apontam que o mecanismo X pode ser otimizado com base em evid√™ncias recentes. Consulte as fontes para estrat√©gias de aprimoramento.',
            fontes: [
              { nome: 'Nature', url: 'https://www.nature.com' },
              { nome: 'IEEE', url: 'https://ieeexplore.ieee.org' },
              { nome: 'PubMed', url: 'https://pubmed.ncbi.nlm.nih.gov' }
            ],
            topicos: ['Otimiza√ß√£o do mecanismo X', 'Evid√™ncias recentes', 'Estrat√©gias de aprimoramento'],
            contexto: url || (file ? `Arquivo: ${file.name}` : '')
          }
        ];
        // Seleciona uma resposta aleat√≥ria
        const respostaPronta = respostasProntas[Math.floor(Math.random() * respostasProntas.length)];
        let html = `<div class="sim-block">
          <div class="sim-question"><strong>Pergunta:</strong> ${q.length>200? q.slice(0,200)+'...' : q}</div>
          <div class="sim-resumo"><strong>Resposta da IA:</strong> ${respostaPronta.resposta}</div>
          <ul class="sim-topicos">${(respostaPronta.topicos||[]).map(t=>`<li>${t}</li>`).join('')}</ul>
          <div class="sim-contexto">${respostaPronta.contexto? `<strong>Contexto:</strong> ${respostaPronta.contexto}` : ''}</div>
          <div class="sim-limite"><strong>Aten√ß√£o:</strong> Sempre verifique as fontes originais antes de tomar decis√µes.</div>
        </div>`;
        simAnswer.innerHTML = html;
        simSources.innerHTML = '';
        (respostaPronta.fontes||[]).forEach(s=>{
          const li = document.createElement('li');
          li.innerHTML = `<span class="sim-source-label">${s.nome}</span> <a href="${s.url}" target="_blank" rel="noopener" class="sim-source-link">${s.url}</a>`;
          simSources.appendChild(li);
        });
        thumbsUp.disabled = false; thumbsDown.disabled = false;
      });

      clearBtn && clearBtn.addEventListener('click', function(){
        document.getElementById('simInput').value = '';
        document.getElementById('simUrl').value = '';
        document.getElementById('simFile').value = '';
        simResult.style.display = 'none';
      });

      function handleFeedback(type){
        thumbsUp.disabled = true; thumbsDown.disabled = true;
        fbMsg.textContent = 'Obrigado pelo feedback! Ele ajuda a IA a evoluir.';
        // Em produ√ß√£o, enviar feedback ao backend com tipo, pergunta e contexto
      }

      thumbsUp && thumbsUp.addEventListener('click', function(){ handleFeedback('up'); });
      thumbsDown && thumbsDown.addEventListener('click', function(){ handleFeedback('down'); });
    })();
  </script>
</body>
</html>